import{C as w,S as g,P as y,a as S,b as h,c as C,e as b,t as P,y as A,z as B}from"./index-DOCiYP8C.js";import{S as D}from"./stats.min-B_nWG6JV.js";import{F}from"./fragment-props-stream-converter-DiHtrbZQ.js";const I=document.getElementById("container"),t=new w,i=new g(t);i.setup();t.scene=i;const s=new y(t,I);t.renderer=s;const c=new S(t);t.camera=c;t.raycaster=new h(t);t.init();s.postproduction.enabled=!0;const L=t.scene.get();c.controls.setLookAt(12,6,8,0,0,-10);const U=new C(t,new b(6710886)),x=s.postproduction.customEffects;x.excludedMeshes.push(U.get());const l=new P(t);await l.setup();const E=await fetch("../../../resources/small.ifc"),G=await E.arrayBuffer(),j=new Uint8Array(G),p=await l.load(j);p.name="example";L.add(p);const o=new A(t);o.settings.wasm={path:"https://unpkg.com/web-ifc@0.0.53/",absolute:!0};o.onGeometryStreamed.add(e=>{console.log(e)});o.settings.minGeometrySize=20;o.onAssetStreamed.add(e=>{console.log(e)});o.settings.minAssetsSize=1e3;o.onIfcLoaded.add(async e=>{console.log(e)});o.onProgress.add(e=>{console.log(e)});const k=await fetch("../../../resources/small.ifc"),f=await k.arrayBuffer();o.streamFromBuffer(new Uint8Array(f));const n=new F(t);n.settings.wasm={path:"https://unpkg.com/web-ifc@0.0.53/",absolute:!0};n.onPropertiesStreamed.add(async e=>{console.log(e)});n.onProgress.add(async e=>{console.log(e)});n.onIndicesStreamed.add(async e=>{console.log(e)});n.streamFromBuffer(new Uint8Array(f));const a=new B(t);a.url="http://YOUR_BACKEND_URL";async function v(e,d){const u=await(await fetch(e)).json();let m;d&&(m=await(await fetch(d)).json()),await a.load(u,!0,m)}await v("../../../resources/small.ifc-processed.json","../../../resources/small.ifc-processed-properties.json");c.controls.addEventListener("controlend",()=>{a.culler.needsUpdate=!0});a.useCache=!0;await a.clearCache();a.culler.threshold=20;a.culler.maxHiddenTime=1e3;a.culler.maxLostTime=4e4;const r=new D;r.showPanel(2);document.body.append(r.dom);r.dom.style.left="0px";s.onBeforeUpdate.add(()=>r.begin());s.onAfterUpdate.add(()=>r.end());
