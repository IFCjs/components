import{bn as w,V as a}from"./web-ifc-api-CpQ3aV8c.js";import{T as u,z as g,m as C}from"./index-BEvRfOoQ.js";import{C as f,W as V,S as v,I as y,V as S,B as A}from"./index-B_pEH4rh.js";import{S as T,a as W,G as I}from"./index-BqrBcJfH.js";import"./_commonjsHelpers-Cpj98o6Y.js";u.init();const p=document.createElement("bim-viewport"),o=new f,P=o.get(V),e=P.create();e.scene=new T(o);e.scene.setup();e.renderer=new W(o,p);e.camera=new v(o);const h=o.get(I);h.create(e);o.init();await e.camera.controls.setLookAt(12,6,8,0,2,-2);const r=o.get(y);await r.setup();const G=await fetch("https://thatopen.github.io/engine_components/resources/small.ifc"),k=await G.arrayBuffer(),F=new Uint8Array(k),s=await r.load(F);e.scene.three.add(s);const l=o.get(S),t=l.create(e,{title:"My Viewpoint"}),L=async()=>{console.log("Position before updating",t.position),t.updateCamera(),console.log("Position after updating",t.position)},M=async()=>{const n=new a;e.camera.controls.getPosition(n),console.log("Camera position before updating",n),await t.go(e);const i=new a;e.camera.controls.getPosition(i),console.log("Camera position before updating",i)};t.selectionComponents.add("2idC0G3ezCdhA9WVjWe","2idC0G3ezCdhA9WVjWe$Pp");const c=await s.getAllPropertiesOfType(w);if(c){const n=Object.values(c).map(b=>b.expressID),i=s.getFragmentMap(n);t.addComponentsFromMap(i)}const $=()=>{const n=t.selectionComponents,i=t.selection;console.log(n,i)},z=o.get(A),m=z.create();m.viewpoints.add(t.guid);const B=()=>{const n=[...m.viewpoints].map(i=>l.list.get(i));console.log(n)},D=g.create(()=>C`
    <bim-panel active label="Viewpoints Tutorial" class="options-menu">
      <bim-panel-section collapsed label="Controls">
        <bim-button @click=${L} label="Update Viewpoint Camera"></bim-button> 
        <bim-button @click=${M} label="Set World Camera"></bim-button>
        <bim-button @click=${$} label="Report Selection Components"></bim-button>
        <bim-button @click=${B} label="Report Topic Viewpoints"></bim-button>
      </bim-panel-section>
    </bim-panel>
    `);document.body.append(D);const d=document.getElementById("app");d.layouts={main:{template:'"viewport"',elements:{viewport:p}}};d.layout="main";
